cmake_minimum_required(VERSION 2.8)

INCLUDE(CheckIncludeFiles)
INCLUDE (CheckFunctionExists)
INCLUDE (CheckLibraryExists) 
INCLUDE (CheckTypeSize) 
INCLUDE (CheckSymbolExists) 
INCLUDE (CheckTypeSize) 

CHECK_INCLUDE_FILES(sys/wait.h HAVE_SYS_WAIT_H)

CHECK_FUNCTION_EXISTS(_doprnt HAVE_DOPRNT)
CHECK_FUNCTION_EXISTS(vprintf HAVE_VPRINTF)
CHECK_FUNCTION_EXISTS(gettimeofday HAVE_GETTIMEOFDAY)
CHECK_FUNCTION_EXISTS(inet_addr HAVE_INET_ADDR)

CHECK_LIBRARY_EXISTS(crypt crypt "" CIRCLE_CRYPT)

SET(CMAKE_EXTRA_INCLUDE_FILES sys/socket.h)
CHECK_TYPE_SIZE(socklen_t socklen_t)
SET(CMAKE_EXTRA_INCLUDE_FILES)

CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/conf.h.in ${CMAKE_CURRENT_SOURCE_DIR}/conf.h)

